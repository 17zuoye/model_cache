{"name":"Model cache","tagline":"Cache data in { item_id => item_content } format, supported storage are memory, sqlite and redis.","body":"Model Cache\r\n======================\r\nCache data in `{ item_id => item_content }` format, supported storage\r\nare memory, shelve, sqlite and redis.\r\n\r\n\r\n\r\nExample\r\n------------------------\r\n\r\n## 1. ModelCache\r\n\r\n```python\r\nfrom model_cache import ModelCache\r\n\r\ndefault_kwargs = {\r\n                    'cache_dir'      : os.getenv(\"ModelCacheDir\"), # the default.\r\n\r\n                    # available storage_types are ['memory', 'sqlite', 'shelve', 'redis']. default\r\n                    # is 'shelve', which is faster than sqlite\r\n                    'storage_type'   : 'shelve',\r\n\r\n                    'filter_lambda'  : lambda item1: False,\r\n                    'read_id_lambda' : lambda item1: str(item1['_id']),\r\n                    'included_class' : object,\r\n                }\r\n@ModelCache.connect(mongo_query, default_kwargs)\r\nclass Foobar:\r\n    def init__load_data(self, record)\r\n        self.item_id      = process1(record) # must should be string or unicode like object.\r\n        self.item_content = process1(record)\r\n\r\nFoobar.pull_data() # Use ParallelData.process API\r\n\r\nlen(Foobar) # get total count\r\nFoobar_a = Foobar[Foobar_a_id] # fetch Foobar_a\r\ndel Foobar[Foobar_a_id] # remove Foobar_a\r\nFoobar[Foobar_b_id] = Foobar_b # remove Foobar_b\r\nFoobar.feed_data([Foobar_c, Foobar_d, ...]) # save and persist data\r\n\r\nFoobar.reconnect() # reopen persistent file descriptor if original is gone\r\n```\r\n\r\n## 2. ParallelData\r\n\r\n```python\r\nfrom model_cache import ParallelData\r\n\r\n\r\nresult = ParallelData.process(original_model_data,\r\n                              'list', # or 'dict'\r\n                              dbpath,\r\n                              item_func=process,\r\n                              id_func=lambda record: record['id'],\r\n                             )\r\n\r\n```\r\n\r\n\r\nLicense\r\n------------------------\r\nMIT. David Chen @ 17zuoye.\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}